{"version":3,"sources":["webpack:///./src/index/PersonProfile.vue?d7db","webpack:///src/index/PersonProfile.vue","webpack:///./src/index/PersonProfile.vue?cada","webpack:///./src/index/PersonProfile.vue","webpack:///./src/index/PersonProfile.vue?05a2"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","staticStyle","attrs","userInfo","_v","_s","id","nickname","username","phone","createTime","updateTime","ref","user","rules","model","value","callback","$$v","$set","expression","on","editProfile","resetForm","staticRenderFns","data","password","mounted","$","scrollbar","getUserInfo","methods","res","code","$refs","resetFields","validate","valid","confirmButtonText","component"],"mappings":"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","file":"js/chunk-00ccb4d0.e6f995b9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fit-parent\"},[_c('div',{staticClass:\"person-profile-div jquery-scrollbar-element scrollbar-macosx\"},[_c('div',{staticClass:\"padding24\"},[_vm._m(0),_c('div',{staticClass:\"tab-div\"},[_c('el-tabs',{staticStyle:{\"height\":\"350px\"},attrs:{\"tab-position\":'left'}},[_c('el-tab-pane',{attrs:{\"label\":\"用户信息\"}},[_c('el-form',{attrs:{\"label-position\":'right',\"label-width\":\"80px\",\"model\":_vm.userInfo}},[_c('el-form-item',{staticClass:\"closer-form-item\",attrs:{\"label\":\"账号 ID:\"}},[_c('span',{staticClass:\"field-span\"},[_vm._v(_vm._s(_vm.userInfo.id))])]),_c('el-form-item',{staticClass:\"closer-form-item\",attrs:{\"label\":\"昵称:\"}},[_c('span',{staticClass:\"field-span\"},[_vm._v(_vm._s(_vm.userInfo.nickname))])]),_c('el-form-item',{staticClass:\"closer-form-item\",attrs:{\"label\":\"用户名:\"}},[_c('span',{staticClass:\"field-span\"},[_vm._v(_vm._s(_vm.userInfo.username))])]),_c('el-form-item',{staticClass:\"closer-form-item\",attrs:{\"label\":\"手机号码:\"}},[_c('span',{staticClass:\"field-span\"},[_vm._v(_vm._s(_vm.userInfo.phone))])]),_c('el-form-item',{staticClass:\"closer-form-item\",attrs:{\"label\":\"创建时间:\"}},[_c('span',{staticClass:\"field-span\"},[_vm._v(_vm._s(_vm.userInfo.createTime))])]),_c('el-form-item',{staticClass:\"closer-form-item\",attrs:{\"label\":\"更新时间:\"}},[_c('span',{staticClass:\"field-span\"},[_vm._v(_vm._s(_vm.userInfo.updateTime))])])],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"修改资料\"}},[_c('el-form',{ref:\"userForm\",attrs:{\"label-position\":'right',\"label-width\":\"80px\",\"model\":_vm.user,\"rules\":_vm.rules}},[_c('el-form-item',{staticClass:\"first-line\",attrs:{\"label\":\"昵称\",\"prop\":\"nickname\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户昵称\"},model:{value:(_vm.user.nickname),callback:function ($$v) {_vm.$set(_vm.user, \"nickname\", $$v)},expression:\"user.nickname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"show-password\":\"\",\"placeholder\":\"请输入密码，为空则不更改\"},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入邮箱作为用户名\"},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号码\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入11位手机号码\"},model:{value:(_vm.user.phone),callback:function ($$v) {_vm.$set(_vm.user, \"phone\", $$v)},expression:\"user.phone\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editProfile}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":_vm.resetForm}},[_vm._v(\"重置\")])],1)],1)],1)],1)],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title-div\"},[_c('h2',{staticClass:\"title-text\"},[_c('span',[_vm._v(\"个人资料\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"fit-parent\">\n    <div class=\"person-profile-div jquery-scrollbar-element scrollbar-macosx\">\n    <div class=\"padding24\">\n      <div class=\"title-div\">\n        <h2 class=\"title-text\">\n          <span>个人资料</span>\n        </h2>\n      </div>\n      <div class=\"tab-div\">\n        <el-tabs :tab-position=\"'left'\" style=\"height: 350px;\">\n          <el-tab-pane label=\"用户信息\">\n            <el-form :label-position=\"'right'\" label-width=\"80px\" :model=\"userInfo\">\n              <el-form-item label=\"账号 ID:\" class=\"closer-form-item\">\n                <span class=\"field-span\">{{userInfo.id}}</span>\n              </el-form-item>\n              <el-form-item label=\"昵称:\" class=\"closer-form-item\">\n                <span class=\"field-span\">{{userInfo.nickname}}</span>\n              </el-form-item>\n              <el-form-item label=\"用户名:\" class=\"closer-form-item\">\n                <span class=\"field-span\">{{userInfo.username}}</span>\n              </el-form-item>\n              <el-form-item label=\"手机号码:\" class=\"closer-form-item\">\n                <span class=\"field-span\">{{userInfo.phone}}</span>\n              </el-form-item>\n              <el-form-item label=\"创建时间:\" class=\"closer-form-item\">\n                <span class=\"field-span\">{{userInfo.createTime}}</span>\n              </el-form-item>\n              <el-form-item label=\"更新时间:\" class=\"closer-form-item\">\n                <span class=\"field-span\">{{userInfo.updateTime}}</span>\n              </el-form-item>\n            </el-form>\n          </el-tab-pane>\n          <el-tab-pane label=\"修改资料\">\n            <el-form\n              :label-position=\"'right'\"\n              label-width=\"80px\"\n              :model=\"user\"\n              :rules=\"rules\"\n              ref=\"userForm\"\n            >\n              <el-form-item class=\"first-line\" label=\"昵称\" prop=\"nickname\">\n                <el-input v-model=\"user.nickname\" placeholder=\"请输入用户昵称\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"密码\" prop=\"password\">\n                <el-input v-model=\"user.password\" show-password placeholder=\"请输入密码，为空则不更改\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"用户名\">\n                <el-input v-model=\"user.username\"  placeholder=\"请输入邮箱作为用户名\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"手机号码\">\n                <el-input v-model=\"user.phone\"  placeholder=\"请输入11位手机号码\"></el-input>\n              </el-form-item>\n              <el-form-item>\n                <el-button type=\"primary\" @click=\"editProfile\">提交</el-button>\n                <el-button @click=\"resetForm\">重置</el-button>\n              </el-form-item>\n            </el-form>\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n    </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"../common/http.js\";\nexport default {\n  data() {\n    return {\n      userInfo: {\n        createTime: \"\",\n        username: \"\",\n        phone: '',\n        id: \"\",\n        updateTime: \"\",\n        nickname: \"\"\n      },\n      user: {\n        nickname: \"\",\n        password: \"\",\n        username: \"\",\n        phone: '',\n      },\n      rules: {\n        nickname: [\n          {\n            validator: (rule, value, callback) => {\n              if (!value) {\n                callback(new Error(\"请输入昵称\"));\n              } else {\n                callback();\n              }\n            },\n            trigger: \"blur\"\n          }\n        ],\n        username: [\n          {\n            validator: (rule, value, callback) => {\n              if (!/\\d{11}/.test(value)) {\n                callback(new Error(\"请输入11位手机号码\"));\n              } else {\n                callback();\n              }\n            },\n            trigger: \"blur\"\n          }\n        ]\n      }\n    };\n  },\n  mounted() {\n    this.$(\".jquery-scrollbar-element\").scrollbar();\n    //console.log(this.$.prototype.scrollbar);\n    this.getUserInfo();\n  },\n  methods: {\n    getUserInfo(){\n      //获取用户信息\n      axios.get(\"/open/loginStatus\").then(res => {\n        if (res && res.code == 1) {\n          this.userInfo = res.data;\n          this.user.nickname = res.data.nickname;\n          this.user.username = res.data.username;\n          this.user.phone = res.data.phone;\n        }\n      });\n    },\n    resetForm(){\n      this.$refs['userForm'].resetFields();\n    },\n    editProfile() {\n      let user = JSON.parse(JSON.stringify(this.user));\n      if(user.password==null) delete user.password;\n      this.$refs[\"userForm\"].validate(valid => {\n        if (valid) {\n          axios.post(\"/user/save\", {\n            id: this.userInfo.id,\n            ...user\n          })\n          .then(res => {\n            if (res && res.code == 1) {\n              this.$message({ message: \"修改资料成功\", type: \"success\" });\n              this.resetForm();\n              this.getUserInfo();\n              this.$emit('update-user');\n            } else {\n              this.$alert(res.tips, \"修改资料失败\", {\n                confirmButtonText: \"确定\"\n              });\n            }\n          });\n        } else {\n          this.$alert(\"信息填写有误\", \"未提交\", {\n            confirmButtonText: \"确定\"\n          });\n          return false;\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.closer-form-item {\n  margin: 0;\n}\n.first-line {\n  margin-top: 24px;\n}\n.fit-parent{\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n}\n.padding24{\n  padding: 24px !important;\n}\n.person-profile-div {\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  .tab-div {\n    border: 1px solid #f5f5f5;\n    border-radius: 5px;\n  }\n  .title-div {\n    padding-bottom: 8px;\n    border-bottom: 1px solid #f5f5f5;\n    margin-bottom: 24px;\n    .title-text {\n      color: #333;\n      font-size: 18px;\n      font-weight: bold;\n      line-height: 2;\n      span {\n        border-bottom: 2px solid #409eff;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./PersonProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./PersonProfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PersonProfile.vue?vue&type=template&id=7e6ecd04&scoped=true&\"\nimport script from \"./PersonProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./PersonProfile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PersonProfile.vue?vue&type=style&index=0&id=7e6ecd04&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e6ecd04\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./PersonProfile.vue?vue&type=style&index=0&id=7e6ecd04&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./PersonProfile.vue?vue&type=style&index=0&id=7e6ecd04&scoped=true&lang=scss&\""],"sourceRoot":""}