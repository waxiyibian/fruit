(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5dc3b95d"],{1768:function(e,t,a){"use strict";var n=a("454d"),l=a.n(n);l.a},"454d":function(e,t,a){},8173:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fit-parent"},[a("div",{staticClass:"store-manage-div jquery-scrollbar-element scrollbar-macosx"},[a("div",{staticClass:"padding24"},[e._m(0),a("div",{staticClass:"stores-div"},[a("div",{staticClass:"tools-div"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchInfo}},[a("el-form-item",[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",size:"small"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.statusList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"查找:"}},[a("el-input",{staticClass:"search-input",attrs:{size:"small",placeholder:"请输入ID/用户ID/店名/描述/地址/手机号","prefix-icon":"el-icon-search"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getSearchInfo()}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),a("el-form-item",[a("el-button",{attrs:{size:"small",plain:"",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getSearchInfo()}}},[e._v("查询")])],1),a("el-form-item",[a("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-plus"},on:{click:function(t){e.dialog.addStoreVisble=!0}}},[e._v("添加商家")])],1)],1)],1),a("div",{staticClass:"account-table"},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.updateInfo},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"商家列表",name:"menuList"}},[a("i",{staticClass:"el-icon-refresh refresh-table",on:{click:function(t){return e.getTableInfo()}}}),a("div",{staticClass:"table-div jquery-scrollbar-element scrollbar-macosx"},[a("div",{staticClass:"inline-block"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableInfo.tableData,border:""},on:{"expand-change":e.updateScrollbar}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},e._l(e.tableInfo.stringMap,(function(n,l){return a("el-form-item",{key:n.id,attrs:{label:e.tableInfo.stringMap[l]}},[a("span",[e._v(e._s(t.row[l]))])])})),1)]}}])}),a("el-table-column",{attrs:{label:"ID",prop:"id"}}),a("el-table-column",{attrs:{label:"用户ID",prop:"userId"}}),a("el-table-column",{attrs:{label:"申请人",prop:"name"}}),a("el-table-column",{attrs:{label:"联系方式",prop:"phone"}}),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}}),a("el-table-column",{attrs:{label:"更新时间",prop:"updateTime"}}),a("el-table-column",{attrs:{label:"操作",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?a("el-button",{attrs:{type:"warning",icon:"el-icon-check",title:"确认已阅",size:"small"},on:{click:function(a){return e.confirmRead(t.row.id)}}},[e._v("已阅")]):e._e(),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",title:"删除",size:"small"},on:{click:function(a){return e.deleteRequest(t.$index)}}},[e._v("删除")])]}}])})],1)],1)]),a("div",{staticClass:"pager-div"},[a("el-pagination",{attrs:{"current-page":e.tableInfo.page_num,"page-sizes":[6,8,10,15,20,30],"page-size":e.tableInfo.page_size,layout:"total, sizes, prev, pager, next, jumper",total:e.tableInfo.total_num,"pager-count":5,size:"small"},on:{"size-change":e.changePageSize,"current-change":e.changePage}})],1)]),a("el-tab-pane",{attrs:{label:"搜索结果",name:"searchResult"}},[a("i",{staticClass:"el-icon-refresh refresh-table",on:{click:function(t){return e.getSearchInfo(!0)}}}),a("div",{staticClass:"table-div jquery-scrollbar-element scrollbar-macosx"},[a("div",{staticClass:"inline-block"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.searchInfo.tableData,border:""},on:{"expand-change":e.updateScrollbar}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},e._l(e.tableInfo.stringMap,(function(n,l){return a("el-form-item",{key:n.id,attrs:{label:e.tableInfo.stringMap[l]}},[a("span",[e._v(e._s(t.row[l]))])])})),1)]}}])}),a("el-table-column",{attrs:{label:"ID",prop:"id"}}),a("el-table-column",{attrs:{label:"用户ID",prop:"userId"}}),a("el-table-column",{attrs:{label:"申请人",prop:"name"}}),a("el-table-column",{attrs:{label:"联系方式",prop:"phone"}}),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}}),a("el-table-column",{attrs:{label:"更新时间",prop:"updateTime"}}),a("el-table-column",{attrs:{label:"操作",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?a("el-button",{attrs:{type:"warning",icon:"el-icon-check",title:"确认已阅",size:"small"},on:{click:function(a){return e.confirmRead(t.row.id)}}},[e._v("已阅")]):e._e(),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",title:"删除",size:"small"},on:{click:function(a){return e.deleteRequest(t.$index)}}},[e._v("删除")])]}}])})],1)],1)]),a("div",{staticClass:"pager-div"},[a("el-pagination",{attrs:{"current-page":e.searchInfo.page_num,"page-sizes":[6,8,10,15,20,30],"page-size":e.searchInfo.page_size,layout:"total, sizes, prev, pager, next, jumper",total:e.searchInfo.total_num,"pager-count":5,size:"small"},on:{"size-change":e.changeSearchPageSize,"current-change":e.changeSearchPage}})],1)])],1)],1)])])])])},l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-div"},[a("h2",{staticClass:"title-text"},[a("span",[e._v("入驻申请")])])])}],s=a("80a0"),i=a("1f75"),o={data:function(){var e={statusList:[{label:"全部",value:-1},{label:"新申请",value:0},{label:"已阅",value:1}],activeTab:"menuList",searchInfo:{keyword:"",status:-1,page_num:1,page_size:8,total_num:1,tableData:[]},status:-1,keyword:"",tableInfo:{page_num:1,page_size:8,total_num:1,stringMap:{id:"ID",userId:"用户ID",name:"申请人",storeName:"店铺名称",phone:"联系方式",address:"店铺地址",description:"店铺描述",updateTime:"更新时间",createTime:"创建时间"},tableData:[]}};return e},mounted:function(){this.$(".jquery-scrollbar-element").scrollbar(),this.getTableInfo()},methods:{updateScrollbar:function(e,t){var a=this;this.$nextTick((function(){0!=t.length&&!0!==e||a.$(".table-div").updateScrollbars(!0)}))},changeSearchPage:function(e){this.searchInfo.page_num=e,this.getSearchInfo(!0)},changeSearchPageSize:function(e){this.searchInfo.page_size=e,this.getSearchInfo(!0)},changePage:function(e){this.tableInfo.page_num=e,this.getTableInfo()},changePageSize:function(e){this.tableInfo.page_size=e,this.getTableInfo()},updateInfo:function(){"menuList"==this.activeTab?this.getTableInfo():this.getSearchInfo(!0)},getTableInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=t?this.searchInfo:this.tableInfo,n={};t&&(n={keyword:this.searchInfo.keyword,status:this.searchInfo.status}),i["a"].get("/admin/requestList",Object(s["a"])({page_num:a.page_num,page_size:a.page_size},n)).then((function(a){a&&1==a.code&&a.data&&(t?e.searchInfo=Object(s["a"])(Object(s["a"])({},e.searchInfo),a.data):e.tableInfo=Object(s["a"])(Object(s["a"])({},e.tableInfo),a.data))}))},getSearchInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||(this.searchInfo.keyword=this.keyword,this.searchInfo.status=this.status),this.activeTab="searchResult",this.getTableInfo(!0)},confirmRead:function(e){var t=this;this.$confirm("将ID为".concat(e,"的订单确认已阅, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i["a"].post("/admin/readRequest",{id:e}).then((function(e){e&&1==e.code?(t.$message({message:"确认已阅成功",type:"success"}),t.updateInfo()):t.$alert(e.tips,"确认已阅失败",{confirmButtonText:"确定"})}))}))["catch"]((function(){t.$message({type:"info",message:"已取消删除"})}))},deleteRequest:function(e){var t=this,a="menuList"==this.activeTab?this.tableInfo:this.searchInfo,n=a.tableData[e].id;this.$confirm("此操作将永久删除该申请, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i["a"].post("/admin/deleteRequest",{id:n}).then((function(e){e&&1==e.code?(t.$message({message:"删除申请成功",type:"success"}),t.updateInfo()):t.$alert(e.tips,"删除申请失败",{confirmButtonText:"确定"})}))}))["catch"]((function(){t.$message({type:"info",message:"已取消删除"})}))}}},r=o,c=(a("1768"),a("4023")),u=Object(c["a"])(r,n,l,!1,null,"58ff2074",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-5dc3b95d.a4aaf8a9.js.map