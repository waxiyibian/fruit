{"version":3,"sources":["webpack:///./src/delivery/OrderDelivery.vue?b901","webpack:///./src/delivery/OrderDelivery.vue?3aa9","webpack:///src/delivery/OrderDelivery.vue","webpack:///./src/delivery/OrderDelivery.vue?ca12","webpack:///./src/delivery/OrderDelivery.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","attrs","searchInfo","staticStyle","model","value","callback","$$v","orderStatus","expression","_l","item","key","label","nativeOn","$event","type","indexOf","_k","keyCode","getSearchInfo","keyword","on","_v","updateInfo","activeTab","getTableInfo","tableInfo","tableData","updateScrollbar","scopedSlots","_u","fn","props","v","k","id","stringMap","_s","row","detailId","productName","productPrice","productQuantity","scope","actionMap","status","changeStatus","$index","page_num","page_size","total_num","changePageSize","changePage","changeSearchPageSize","changeSearchPage","staticRenderFns","data","statusList","url","tips","statusMap","orderId","buyerName","buyerAddress","buyerPhone","updateTime","createTime","forEach","mounted","$","scrollbar","methods","$nextTick","param","$confirm","confirmButtonText","cancelButtonText","message","component"],"mappings":"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","file":"js/chunk-59617df1.c759c27b.js","sourcesContent":["import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./OrderDelivery.vue?vue&type=style&index=0&id=7e1354bc&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./OrderDelivery.vue?vue&type=style&index=0&id=7e1354bc&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fit-parent\"},[_c('div',{staticClass:\"order-manage-div jquery-scrollbar-element scrollbar-macosx\"},[_c('div',{staticClass:\"padding24\"},[_vm._m(0),_c('div',{staticClass:\"orders-div\"},[_c('div',{staticClass:\"tools-div\"},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.searchInfo}},[_c('el-form-item',[_c('el-select',{staticStyle:{\"width\":\"100px\"},attrs:{\"placeholder\":\"请选择\",\"size\":\"small\"},model:{value:(_vm.orderStatus),callback:function ($$v) {_vm.orderStatus=$$v},expression:\"orderStatus\"}},_vm._l((_vm.statusList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',[_c('el-input',{staticClass:\"search-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入用户昵称/联系方式/订单编号\",\"prefix-icon\":\"el-icon-search\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getSearchInfo()}},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"small\",\"plain\":\"\",\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.getSearchInfo()}}},[_vm._v(\"查询\")])],1)],1)],1),_c('div',{staticClass:\"order-table\"},[_c('el-tabs',{attrs:{\"type\":\"border-card\"},on:{\"tab-click\":_vm.updateInfo},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_c('el-tab-pane',{attrs:{\"label\":\"订单列表\",\"name\":\"menuList\"}},[_c('i',{staticClass:\"el-icon-refresh refresh-table\",on:{\"click\":function($event){return _vm.getTableInfo()}}}),_c('div',{staticClass:\"table-div jquery-scrollbar-element scrollbar-macosx\"},[_c('div',{staticClass:\"inline-block\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableInfo.tableData,\"border\":\"\"},on:{\"expand-change\":_vm.updateScrollbar}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"left\",\"inline\":\"\"}},[_vm._l((_vm.tableInfo.stringMap),function(v,k){return _c('el-form-item',{key:v.id,attrs:{\"label\":_vm.tableInfo.stringMap[k]}},[_c('span',[_vm._v(_vm._s(props.row[k]))])])}),_c('el-form-item',{attrs:{\"label\":'订单内容'}},_vm._l((props.row.orderDetailList),function(v){return _c('div',{key:v.detailId},[_vm._v(\" \"+_vm._s(v.productName)+\" ¥\"+_vm._s(v.productPrice)+\" x \"+_vm._s(v.productQuantity)+\" \")])}),0)],2)]}}])}),_c('el-table-column',{attrs:{\"label\":\"订单 ID\",\"prop\":\"orderId\"}}),_c('el-table-column',{attrs:{\"label\":\"用户名称\",\"prop\":\"buyerName\"}}),_c('el-table-column',{attrs:{\"label\":\"订单金额\",\"prop\":\"orderAmount\"}}),_c('el-table-column',{attrs:{\"label\":\"联系方式\",\"prop\":\"buyerPhone\"}}),_c('el-table-column',{attrs:{\"label\":\"订单状态\",\"prop\":\"orderStatusStr\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-check\",\"circle\":\"\",\"title\":\"确定配送\",\"disabled\":scope.row.orderStatus >= _vm.actionMap['delivery'].status,\"size\":\"small\"},on:{\"click\":function($event){return _vm.changeStatus(scope.$index,'delivery')}}})]}}])})],1)],1)]),_c('div',{staticClass:\"pager-div\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.tableInfo.page_num,\"page-sizes\":[6, 8, 10, 15, 20, 30],\"page-size\":_vm.tableInfo.page_size,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.tableInfo.total_num,\"pager-count\":5,\"size\":\"small\"},on:{\"size-change\":_vm.changePageSize,\"current-change\":_vm.changePage}})],1)]),_c('el-tab-pane',{attrs:{\"label\":\"搜索结果\",\"name\":\"searchResult\"}},[_c('i',{staticClass:\"el-icon-refresh refresh-table\",on:{\"click\":function($event){return _vm.getSearchInfo(true)}}}),_c('div',{staticClass:\"table-div jquery-scrollbar-element scrollbar-macosx\"},[_c('div',{staticClass:\"inline-block\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.searchInfo.tableData,\"border\":\"\"},on:{\"expand-change\":_vm.updateScrollbar}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"left\",\"inline\":\"\"}},[_vm._l((_vm.tableInfo.stringMap),function(v,k){return _c('el-form-item',{key:v.id,attrs:{\"label\":_vm.tableInfo.stringMap[k]}},[_c('span',[_vm._v(_vm._s(props.row[k]))])])}),_c('el-form-item',{attrs:{\"label\":'订单内容'}},_vm._l((props.row.orderDetailList),function(v){return _c('div',{key:v.detailId},[_vm._v(\" \"+_vm._s(v.productName)+\" ¥\"+_vm._s(v.productPrice)+\" x \"+_vm._s(v.productQuantity)+\" \")])}),0)],2)]}}])}),_c('el-table-column',{attrs:{\"label\":\"订单 ID\",\"prop\":\"orderId\"}}),_c('el-table-column',{attrs:{\"label\":\"用户名称\",\"prop\":\"buyerName\"}}),_c('el-table-column',{attrs:{\"label\":\"订单金额\",\"prop\":\"orderAmount\"}}),_c('el-table-column',{attrs:{\"label\":\"联系方式\",\"prop\":\"buyerPhone\"}}),_c('el-table-column',{attrs:{\"label\":\"订单状态\",\"prop\":\"orderStatusStr\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-check\",\"circle\":\"\",\"title\":\"确定配送\",\"disabled\":scope.row.orderStatus >= _vm.actionMap['delivery'].status,\"size\":\"small\"},on:{\"click\":function($event){return _vm.changeStatus(scope.$index,'delivery')}}})]}}])})],1)],1)]),_c('div',{staticClass:\"pager-div\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.searchInfo.page_num,\"page-sizes\":[6, 8, 10, 15, 20, 30],\"page-size\":_vm.searchInfo.page_size,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.searchInfo.total_num,\"pager-count\":5,\"size\":\"small\"},on:{\"size-change\":_vm.changeSearchPageSize,\"current-change\":_vm.changeSearchPage}})],1)])],1)],1)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title-div\"},[_c('h2',{staticClass:\"title-text\"},[_c('span',[_vm._v(\"订单配送\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n<div class=\"fit-parent\">\n  <div class=\"order-manage-div jquery-scrollbar-element scrollbar-macosx\">\n    <div class=\"padding24\">\n    <div class=\"title-div\">\n      <h2 class=\"title-text\">\n        <span>订单配送</span>\n      </h2>\n    </div>\n    <div class=\"orders-div\">\n      <div class=\"tools-div\">\n        <el-form :inline=\"true\" :model=\"searchInfo\" class=\"demo-form-inline\">\n          <el-form-item>\n            <el-select v-model=\"orderStatus\" placeholder=\"请选择\" size=\"small\" style=\"width:100px\">\n              <el-option\n                v-for=\"item in statusList\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item>\n            <el-input\n              size=\"small\"\n              class=\"search-input\"\n              placeholder=\"请输入用户昵称/联系方式/订单编号\"\n              prefix-icon=\"el-icon-search\"\n              @keydown.enter.native=\"getSearchInfo()\"\n              v-model=\"keyword\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button\n              size=\"small\"\n              plain\n              type=\"primary\"\n              @click=\"getSearchInfo()\"\n              icon=\"el-icon-search\"\n            >查询</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n      <div class=\"order-table\">\n        <el-tabs type=\"border-card\" v-model=\"activeTab\" @tab-click=\"updateInfo\">\n          <el-tab-pane label=\"订单列表\" name=\"menuList\">\n            <i class=\"el-icon-refresh refresh-table\" @click=\"getTableInfo()\"></i>\n            <div class=\"table-div jquery-scrollbar-element scrollbar-macosx\">\n              <div class=\"inline-block\">\n                <el-table :data=\"tableInfo.tableData\" border style=\"width: 100%\" @expand-change=\"updateScrollbar\">\n                  <el-table-column type=\"expand\">\n                    <template slot-scope=\"props\">\n                      <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n                        <el-form-item\n                          v-for=\"(v,k) in tableInfo.stringMap\"\n                          :key=\"v.id\"\n                          :label=\"tableInfo.stringMap[k]\"\n                        >\n                          <span>{{ props.row[k] }}</span>\n                        </el-form-item>\n                        <el-form-item :label=\"'订单内容'\">\n                          <div v-for=\"(v) in props.row.orderDetailList\" :key=\"v.detailId\">\n                            {{v.productName}} &yen;{{v.productPrice}} x {{v.productQuantity}}\n                          </div>\n                        </el-form-item>\n                      </el-form>\n                    </template>\n                  </el-table-column>\n                  <el-table-column label=\"订单 ID\" prop=\"orderId\"></el-table-column>\n                  <el-table-column label=\"用户名称\" prop=\"buyerName\"></el-table-column>\n                  <el-table-column label=\"订单金额\" prop=\"orderAmount\"></el-table-column>\n                  <el-table-column label=\"联系方式\" prop=\"buyerPhone\"></el-table-column>\n                  <el-table-column label=\"订单状态\" prop=\"orderStatusStr\"></el-table-column>\n                  <el-table-column label=\"操作\" width=\"150\">\n                    <template slot-scope=\"scope\">\n                      <el-button\n                        type=\"success\"\n                        icon=\"el-icon-check\"\n                        circle\n                        title=\"确定配送\"\n                        :disabled=\"scope.row.orderStatus >= actionMap['delivery'].status\"\n                        @click=\"changeStatus(scope.$index,'delivery')\"\n                        size=\"small\"\n                      ></el-button>\n                    </template>\n                  </el-table-column>\n                </el-table>\n              </div>\n            </div>\n            <div class=\"pager-div\">\n              <el-pagination\n                @size-change=\"changePageSize\"\n                @current-change=\"changePage\"\n                :current-page=\"tableInfo.page_num\"\n                :page-sizes=\"[6, 8, 10, 15, 20, 30]\"\n                :page-size=\"tableInfo.page_size\"\n                layout=\"total, sizes, prev, pager, next, jumper\"\n                :total=\"tableInfo.total_num\"\n                :pager-count=\"5\"\n                size=\"small\"\n              ></el-pagination>\n            </div>\n          </el-tab-pane>\n          <!-- <el-tab-pane label=\"菜单预览\" name=\"menuPreview\">菜单预览</el-tab-pane> -->\n          <el-tab-pane label=\"搜索结果\" name=\"searchResult\">\n            <i class=\"el-icon-refresh refresh-table\" @click=\"getSearchInfo(true)\"></i>\n            <div class=\"table-div jquery-scrollbar-element scrollbar-macosx\">\n              <div class=\"inline-block\">\n                <el-table :data=\"searchInfo.tableData\" style=\"width: 100%\" border @expand-change=\"updateScrollbar\">\n                  <el-table-column type=\"expand\">\n                    <template slot-scope=\"props\">\n                      <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n                        <el-form-item\n                          v-for=\"(v,k) in tableInfo.stringMap\"\n                          :key=\"v.id\"\n                          :label=\"tableInfo.stringMap[k]\"\n                        >\n                          <span>{{ props.row[k] }}</span>\n                        </el-form-item>\n                        <el-form-item :label=\"'订单内容'\">\n                          <div v-for=\"(v) in props.row.orderDetailList\" :key=\"v.detailId\">\n                            {{v.productName}} &yen;{{v.productPrice}} x {{v.productQuantity}}\n                          </div>\n                        </el-form-item>\n                      </el-form>\n                    </template>\n                  </el-table-column>\n                  <el-table-column label=\"订单 ID\" prop=\"orderId\"></el-table-column>\n                  <el-table-column label=\"用户名称\" prop=\"buyerName\"></el-table-column>\n                  <el-table-column label=\"订单金额\" prop=\"orderAmount\"></el-table-column>\n                  <el-table-column label=\"联系方式\" prop=\"buyerPhone\"></el-table-column>\n                  <el-table-column label=\"订单状态\" prop=\"orderStatusStr\"></el-table-column>\n                  <el-table-column label=\"操作\" width=\"150\">\n                    <template slot-scope=\"scope\">\n                      <el-button\n                        type=\"success\"\n                        icon=\"el-icon-check\"\n                        circle\n                        title=\"确定配送\"\n                        :disabled=\"scope.row.orderStatus >= actionMap['delivery'].status\"\n                        @click=\"changeStatus(scope.$index,'delivery')\"\n                        size=\"small\"\n                      ></el-button>\n                    </template>\n                  </el-table-column>\n                </el-table>\n              </div>\n            </div>\n            <div class=\"pager-div\">\n              <el-pagination\n                @size-change=\"changeSearchPageSize\"\n                @current-change=\"changeSearchPage\"\n                :current-page=\"searchInfo.page_num\"\n                :page-sizes=\"[6, 8, 10, 15, 20, 30]\"\n                :page-size=\"searchInfo.page_size\"\n                layout=\"total, sizes, prev, pager, next, jumper\"\n                :total=\"searchInfo.total_num\"\n                :pager-count=\"5\"\n                size=\"small\"\n              ></el-pagination>\n            </div>\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n    </div>\n  </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport axios from \"../common/http.js\";\nexport default {\n  data() {\n    let data= {\n      activeTab: \"menuList\",\n      statusList: [\n        { label: \"全部\", value: -1 },\n        { label: \"新订单未支付\", value: 0 },\n        { label: \"已支付/接单\", value: 1 },//value 1 is not use\n        { label: \"配送中\", value: 3 },\n        { label: \"已完结\", value: 4 },\n        { label: \"已评价\", value: 5 },\n        { label: \"已取消\", value: 6 }\n      ],\n      actionMap: {\n        //存储状态码\n        'new': {\n          status: 0\n        },\n        'pay': {\n          url: '/store/order/confirmPay',\n          tips: '确认支付',\n          status: 1\n        },\n        'accept': {\n          url: '/store/order/confirmPay',// /store/order/accept\n          tips: '确认接单',\n          status: 1\n        },\n        'delivery': {\n          status: 3,\n          url: '/delivery/order/confirmDelivery',// /store/order/accept\n          tips: '确认配送',\n        },\n        'over': {\n          url: '/store/order/finish',\n          tips: '确认完结',\n          status: 4\n        },\n        'cancel': {\n          url: '/store/order/cancel',\n          tips: '订单取消',\n          status: 6\n        }\n      },\n      statusMap: {},\n      searchInfo: {\n        keyword: \"\",\n        orderStatus: -1,\n        page_num: 1,\n        page_size: 8,\n        total_num: 1,\n        tableData: []\n      },\n      orderStatus: -1,\n      keyword: \"\",\n      tableInfo: {\n        page_num: 1,\n        page_size: 8,\n        total_num: 1,\n        stringMap: {\n          orderId: \"订单ID\",\n          buyerName: \"用户名称\",\n          buyerAddress: \"地址\",\n          buyerPhone: \"联系方式\",\n          //productIcon: \"图片\",\n          updateTime: \"更新时间\",\n          createTime: \"创建时间\"\n        },\n        tableData: [\n          /*{orderId ...}*/\n        ]\n      }\n    };\n    data.statusList.forEach(v=>{\n      data.statusMap[v.value]= v.label;\n    })\n    return data;\n  },\n  mounted() {\n    this.$('.jquery-scrollbar-element').scrollbar();\n    this.getTableInfo();\n  },\n  methods: {\n    updateScrollbar(row,rows){\n      this.$nextTick(()=>{\n        if(rows.length==0||row===true){\n          this.$('.table-div').updateScrollbars(true)\n        }\n      });\n    },\n    changeSearchPage(page_num){\n      this.searchInfo.page_num=page_num;\n      this.getSearchInfo(true);\n    },\n    changeSearchPageSize(page_size){\n      this.searchInfo.page_size=page_size;\n      this.getSearchInfo(true);\n    },\n    changePage(page_num){\n      this.tableInfo.page_num=page_num;\n      this.getTableInfo();\n    },\n    changePageSize(page_size){\n      this.tableInfo.page_size=page_size;\n      this.getTableInfo();\n    },\n    updateInfo(){\n      //console.log(this.activeTab);\n      if(this.activeTab=='menuList'){\n        this.getTableInfo()\n      }else{\n        this.getSearchInfo(true);\n      }\n    },\n    getTableInfo(isSearch=false) {\n      let tb = !isSearch ? this.tableInfo : this.searchInfo,param={};\n      if(isSearch){\n        param = {\n          keyword: this.searchInfo.keyword,\n          status: this.searchInfo.orderStatus\n        }\n      }\n      //获取商品列表信息\n      axios\n        .get(\"/delivery/order/list\", {\n          page_num: tb.page_num,\n          page_size: tb.page_size,\n          ...param\n        })\n        .then(res => {\n          if (res && res.code == 1 && res.data) {\n            res.data.tableData.forEach(v=>{\n              v.orderStatusStr = this.statusMap[v.orderStatus];\n            })\n            if(isSearch){\n              this.searchInfo = Object.assign(this.searchInfo,res.data);\n            }else{\n              this.tableInfo = Object.assign(this.tableInfo, res.data);\n            }\n          }\n        });\n    },\n    getSearchInfo(cacheKeyword=false) {\n      if(!cacheKeyword){\n        this.searchInfo.keyword = this.keyword;\n        this.searchInfo.orderStatus = this.orderStatus;\n      }\n      this.activeTab = 'searchResult';\n      this.getTableInfo(true);\n    },\n    //\n    changeStatus(index,act) {\n      let map = this.actionMap[act];\n      let url = map.url;\n      let action = map.tips;\n      //判断是在搜索页还是列表页\n      let table = this.activeTab == 'menuList' ? this.tableInfo : this.searchInfo;\n      let orderId = table.tableData[index].orderId;\n      this.$confirm(`将${orderId}号订单${action}, 是否继续?`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        axios.get(url,{orderId}).then((res)=>{\n        if(res&&res.code==1){\n          this.$message({message: action+'成功',type: 'success'});\n          let index = -1;\n          table.tableData.some((v,i)=>{\n            if(v.orderId==orderId){\n              index =i;\n              return true;\n            }\n          });\n          let status = map.status;\n          if(index>=0){\n            table.tableData[index].orderStatus=status;\n            table.tableData[index].orderStatusStr=this.statusMap[status];\n          }\n        }else{\n          this.$alert(res.tips,action+\"失败\",{confirmButtonText: '确定'});\n        }\n      })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消'\n        });          \n      });\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.fit-parent{\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n}\n.padding24{\n  padding: 24px !important;\n}\n.refresh-table{\n  position: absolute;\n  right: 0;\n  top: 0;\n  padding: 5px;\n  background: #fff;\n  border-radius: 50px;\n  box-sizing: 0 0 10px rbga(0,0,0,0.3);\n  z-index: 11;\n  color: #409EFF;\n  cursor: pointer;\n\n  &:hover{\n    background: #409EFF;\n    color: #fff;\n  }\n}\n.edit-category{\n  cursor: pointer;\n  border-radius: 50%;\n  margin-left: 3px;\n  padding: 2px;\n  transform: scale(.8);\n  &:hover{\n    background: #409EFF;\n    color: #fff;\n  }\n}\n/*copy from element ui*/\n.demo-table-expand {\n  font-size: 0;\n  label {\n    width: 90px;\n    color: #99a9bf;\n  }\n  .el-form-item {\n    margin-right: 0;\n    margin-bottom: 0;\n    width: 50%;\n  }\n}\n\n/*copy end*/\n.order-manage-div {\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  .title-div {\n    padding-bottom: 8px;\n    border-bottom: 1px solid #f5f5f5;\n    margin-bottom: 24px;\n    .title-text {\n      color: #333;\n      font-size: 18px;\n      font-weight: bold;\n      line-height: 2;\n      span {\n        border-bottom: 2px solid #409eff;\n      }\n    }\n  }\n  .orders-div {\n    .tools-div {\n      .search-input {\n        width: 250px;\n      }\n    }\n    .order-table {\n      .inline-block {\n        display: inline-block;\n        min-width: 100%;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./OrderDelivery.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./OrderDelivery.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderDelivery.vue?vue&type=template&id=7e1354bc&scoped=true&\"\nimport script from \"./OrderDelivery.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderDelivery.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderDelivery.vue?vue&type=style&index=0&id=7e1354bc&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e1354bc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}