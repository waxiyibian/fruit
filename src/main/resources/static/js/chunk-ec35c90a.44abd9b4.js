(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec35c90a"],{"53eb":function(e,s,t){},"6cd4":function(e,s,t){"use strict";var a=t("53eb"),r=t.n(a);r.a},"745d":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"fit-parent"},[t("div",{staticClass:"person-profile-div jquery-scrollbar-element scrollbar-macosx"},[t("div",{staticClass:"padding24"},[e._m(0),t("div",{staticClass:"tab-div"},[t("el-tabs",{staticStyle:{height:"350px"},attrs:{"tab-position":"left"}},[t("el-tab-pane",{attrs:{label:"用户信息"}},[t("el-form",{attrs:{"label-position":"right","label-width":"80px",model:e.userInfo}},[t("el-form-item",{staticClass:"closer-form-item",attrs:{label:"账号 ID:"}},[t("span",{staticClass:"field-span"},[e._v(e._s(e.userInfo.id))])]),t("el-form-item",{staticClass:"closer-form-item",attrs:{label:"昵称:"}},[t("span",{staticClass:"field-span"},[e._v(e._s(e.userInfo.nickname))])]),t("el-form-item",{staticClass:"closer-form-item",attrs:{label:"用户名:"}},[t("span",{staticClass:"field-span"},[e._v(e._s(e.userInfo.username))])]),t("el-form-item",{staticClass:"closer-form-item",attrs:{label:"手机号码:"}},[t("span",{staticClass:"field-span"},[e._v(e._s(e.userInfo.phone))])]),t("el-form-item",{staticClass:"closer-form-item",attrs:{label:"创建时间:"}},[t("span",{staticClass:"field-span"},[e._v(e._s(e.userInfo.createTime))])]),t("el-form-item",{staticClass:"closer-form-item",attrs:{label:"更新时间:"}},[t("span",{staticClass:"field-span"},[e._v(e._s(e.userInfo.updateTime))])])],1)],1),t("el-tab-pane",{attrs:{label:"修改资料"}},[t("el-form",{ref:"userForm",attrs:{"label-position":"right","label-width":"80px",model:e.user,rules:e.rules}},[t("el-form-item",{staticClass:"first-line",attrs:{label:"昵称",prop:"nickname"}},[t("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:e.user.nickname,callback:function(s){e.$set(e.user,"nickname",s)},expression:"user.nickname"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{"show-password":"",placeholder:"请输入密码，为空则不更改"},model:{value:e.user.password,callback:function(s){e.$set(e.user,"password",s)},expression:"user.password"}})],1),t("el-form-item",{attrs:{label:"用户名"}},[t("el-input",{attrs:{placeholder:"请输入邮箱作为用户名"},model:{value:e.user.username,callback:function(s){e.$set(e.user,"username",s)},expression:"user.username"}})],1),t("el-form-item",{attrs:{label:"手机号码"}},[t("el-input",{attrs:{placeholder:"请输入11位手机号码"},model:{value:e.user.phone,callback:function(s){e.$set(e.user,"phone",s)},expression:"user.phone"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.editProfile}},[e._v("提交")]),t("el-button",{on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)],1)],1)])])])},r=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"title-div"},[t("h2",{staticClass:"title-text"},[t("span",[e._v("个人资料")])])])}],l=t("80a0"),n=t("1f75"),i={data:function(){return{userInfo:{createTime:"",username:"",phone:"",id:"",updateTime:"",nickname:""},user:{nickname:"",password:"",username:"",phone:""},rules:{nickname:[{validator:function(e,s,t){s?t():t(new Error("请输入昵称"))},trigger:"blur"}],username:[{validator:function(e,s,t){/\d{11}/.test(s)?t():t(new Error("请输入11位手机号码"))},trigger:"blur"}]}}},mounted:function(){this.$(".jquery-scrollbar-element").scrollbar(),this.getUserInfo()},methods:{getUserInfo:function(){var e=this;n["a"].get("/open/loginStatus").then((function(s){s&&1==s.code&&(e.userInfo=s.data,e.user.nickname=s.data.nickname,e.user.username=s.data.username,e.user.phone=s.data.phone)}))},resetForm:function(){this.$refs["userForm"].resetFields()},editProfile:function(){var e=this,s=JSON.parse(JSON.stringify(this.user));null==s.password&&delete s.password,this.$refs["userForm"].validate((function(t){if(!t)return e.$alert("信息填写有误","未提交",{confirmButtonText:"确定"}),!1;n["a"].post("/user/save",Object(l["a"])({id:e.userInfo.id},s)).then((function(s){s&&1==s.code?(e.$message({message:"修改资料成功",type:"success"}),e.resetForm(),e.getUserInfo(),e.$emit("update-user")):e.$alert(s.tips,"修改资料失败",{confirmButtonText:"确定"})}))}))}}},o=i,c=(t("6cd4"),t("4023")),u=Object(c["a"])(o,a,r,!1,null,"62136c08",null);s["default"]=u.exports}}]);
//# sourceMappingURL=chunk-ec35c90a.44abd9b4.js.map